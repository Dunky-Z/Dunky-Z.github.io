---
title: RISC-V指南
date: 2021-08-02 17:23:31
tags: [RISCV]
---
## 为什么要有RISC-V
RISC-V（“RISC five”）的目标是成为一个**通用的指令集架构**（ISA）。

x86 ISA指令数量多，增速快，平均每个月增加三条指令。

x86-32的每个实现必须实现过去的扩展中的错误设计，即便它们不再有意义。


ISA设计基本原则
- 成本
    晶粒越小， 产率 （生产出的可用晶粒所占的比例）越高。在于目前的硅生产工艺会在晶圆上留下一些散布的小瑕疵。因此晶粒越小，有缺陷部分所占比重会越低。
- 简洁性
降低成本，缩短设计和验证时间，降低文档成本。
- 性能
性能三要素：
$\frac{\text{instaructions}}{\text{program}} \times \frac{\text{average clock cycles}}{\text{instruction}} \times \frac{\text{time}}{\text{clock cycle}}=\frac{\text{time}}{\text{program}}$
即使一个简单的ISA可能在每个程序执行的指令数方面多于复杂的 ISA，但它可以通过更快的**时钟频率**或更低的**平均单条指令周期数**（ CPI）来弥补。
- 架构和具体实现的分离
虽然架构师不该为了有助于 某个时间点的某一个特定实现而特意加入某些功能，但他们也不应该放入 阻碍 某些实现的功能。
- 提升空间
ISA必须保留操作码空间以供未来的提升。
- 程序大小
程序越小，存储它所需的芯片面积就越小 (这对于嵌入式设备来说可能是一个巨大的成本 )
- 易于编程编译链接
寄存器里。复杂的指令和位于存储器中的操作数使得处理器的设计人员难以保证性能的可预
测性。


## RV321: RISC-V基础整数指令集
所有位全部是0或者全部是1是非法的RV321指令。
